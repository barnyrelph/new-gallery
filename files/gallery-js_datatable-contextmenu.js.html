<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>gallery-js&#x2F;datatable-contextmenu.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/PickList.html">PickList</a></li>
            
                <li><a href="..&#x2F;classes/Y.Calendar.JumpNavView.html">Y.Calendar.JumpNavView</a></li>
            
                <li><a href="..&#x2F;classes/Y.ContextMenuView.html">Y.ContextMenuView</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.BaseCellInlineEditor.html">Y.DataTable.BaseCellInlineEditor</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.BaseCellPopupEditor.html">Y.DataTable.BaseCellPopupEditor</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.CheckboxSelect.html">Y.DataTable.CheckboxSelect</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Editable.html">Y.DataTable.Editable</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.html">Y.DataTable.EditorOptions</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.autocomplete.html">Y.DataTable.EditorOptions.autocomplete</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.calendar.html">Y.DataTable.EditorOptions.calendar</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.checkbox.html">Y.DataTable.EditorOptions.checkbox</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.date.html">Y.DataTable.EditorOptions.date</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.dropdown.html">Y.DataTable.EditorOptions.dropdown</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inline.html">Y.DataTable.EditorOptions.inline</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inlineAC.html">Y.DataTable.EditorOptions.inlineAC</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inlineDate.html">Y.DataTable.EditorOptions.inlineDate</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inlineNumber.html">Y.DataTable.EditorOptions.inlineNumber</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.number.html">Y.DataTable.EditorOptions.number</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.radio.html">Y.DataTable.EditorOptions.radio</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.text.html">Y.DataTable.EditorOptions.text</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.textarea.html">Y.DataTable.EditorOptions.textarea</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Formatters.html">Y.DataTable.Formatters</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Paginator.html">Y.DataTable.Paginator</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Selection.html">Y.DataTable.Selection</a></li>
            
                <li><a href="..&#x2F;classes/Y.FooterView.html">Y.FooterView</a></li>
            
                <li><a href="..&#x2F;classes/Y.PaginatorModel.html">Y.PaginatorModel</a></li>
            
                <li><a href="..&#x2F;classes/Y.PaginatorView.html">Y.PaginatorView</a></li>
            
                <li><a href="..&#x2F;classes/Y.Plugin.Calendar.JumpNav.html">Y.Plugin.Calendar.JumpNav</a></li>
            
                <li><a href="..&#x2F;classes/Y.Plugin.DataTableContextMenu.html">Y.Plugin.DataTableContextMenu</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/DataTable.html">DataTable</a></li>
            
                <li><a href="..&#x2F;modules/FooterView.html">FooterView</a></li>
            
                <li><a href="..&#x2F;modules/gallery-contextmenu-view.html">gallery-contextmenu-view</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-celleditor-inline.html">gallery-datatable-celleditor-inline</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-celleditor-popup.html">gallery-datatable-celleditor-popup</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-contextmenu.html">gallery-datatable-contextmenu</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-editable.html">gallery-datatable-editable</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-formatters.html">gallery-datatable-formatters</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-paginator.html">gallery-datatable-paginator</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-selection.html">gallery-datatable-selection</a></li>
            
                <li><a href="..&#x2F;modules/gallery-paginator-view.html">gallery-paginator-view</a></li>
            
                <li><a href="..&#x2F;modules/gallery-picklist.html">gallery-picklist</a></li>
            
                <li><a href="..&#x2F;modules/Selection.html">Selection</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: gallery-js&#x2F;datatable-contextmenu.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 This module defines a plugin that creates up to three gallery-contextmenu-view instances on a single DataTable, each
 delegated to the contextmenu event on the THEAD, TBODY and TFOOT containers.

 A typical use case might be as follows;

        &#x2F;&#x2F; Create a DT with local data ...
        var myDT = new Y.DataTable({
            data: mydata,
            columns: mycolumns
        }).render();

        &#x2F;&#x2F; plugin this module to give a right-click menu on the TBODY and the THEAD
        &#x2F;&#x2F;    tdMenuChange and thMenuSelect are functions defined to respond to
        &#x2F;&#x2F;    context menu choices (not shown ... see examples)
        myDT.plug(Y.Plugin.DataTableContextMenu,{
            &#x2F;&#x2F; This is a contextmenu on the TD nodes ...
            tbodyMenu:{
                menuItems: [
                    {label:&quot;Edit&quot;,  value:&quot;e&quot; },
                    {label:&quot;Update&quot;, value:&quot;u&quot;},
                    {label:&quot;Delete Record&quot;, value:&quot;d&quot;}
                ],
                after:{
                  &#x27;selectedMenuChange&#x27;: tdMenuChange
                }
            },

            &#x2F;&#x2F; and this is a contextmenu on the header TH nodes ...
            theadMenu:{
                menuItems:  [ &quot;Sort A-Z&quot;,  &quot;Sort Z-A&quot;,  &quot;Hide&quot; ],
                after: {
                    &#x27;selectedMenuChange&#x27;: thMenuSelect
                }
            }
        });

 @module gallery-datatable-contextmenu
 @class Y.Plugin.DataTableContextMenu
 @since 3.8.0
 **&#x2F;
function DtContextMenu() {
    DtContextMenu.superclass.constructor.apply(this, arguments);
}

&#x2F;**
 * Plugin name and event name prefix for this dt-contextmenu
 * @property NAME
 * @static
 * @type {String}
 * @default &#x27;DtContextMenu&#x27;
 *&#x2F;
DtContextMenu.NAME = &quot;DtContextMenu&quot;;


&#x2F;**
 * Namespace property for this dt-contexmenu plugin, you can access this from a DT instance as
 * &#x60;mydatatable.contextmenu&#x60;
 * @property NS
 * @type {String}
 * @default &#x27;contextmenu&#x27;
 * @static
 *&#x2F;
DtContextMenu.NS = &quot;contextmenu&quot;;

DtContextMenu.ATTRS = {

    &#x2F;**
     * Configuration object properties for the TBODY contextmenu-view View instance
     * @attribute tbodyMenu
     * @type Object
     * @default null
     *&#x2F;
    tbodyMenu : {
        value: null

    },

    &#x2F;**
     * Configuration object properties for the THEAD contextmenu-view View instance
     * @attribute theadMenu
     * @type Object
     * @default null
     *&#x2F;
    theadMenu : {
        value: null
    },

    &#x2F;**
     * Configuration object properties for the TFOOT contextmenu-view View instance
     * @attribute tfootMenu
     * @type Object
     * @default null
     *&#x2F;
    tfootMenu : {
        value: null
    }
};

Y.extend(DtContextMenu, Y.Plugin.Base, {

    &#x2F;**
     * Placeholder for the View instance for the theadMenu ...
     * @property theadCMenu
     * @type View
     * @default null
     * @static
     *&#x2F;
    theadCMenu: null,

    &#x2F;**
     * Placeholder for the View instance for the tbodyMenu ...
     * @property tbodyCMenu
     * @type View
     * @default null
     * @static
     *&#x2F;
    tbodyCMenu: null,

    &#x2F;**
     * Placeholder for the View instance for the tfootMenu ...
     * @property tfootCMenu
     * @type View
     * @default null
     * @static
     *&#x2F;
    tfootCMenu: null,

    &#x2F;**
     * @property _menuItemTemplate
     * @type String
     * @default See Code
     * @static
     * @deprecated
     *&#x2F;
    _menuItemTemplate:  &#x27;&lt;div class=&quot;yui3-contextmenu-menuitem&quot; data-cmenu=&quot;{menuIndex}&quot;&gt;{menuContent}&lt;&#x2F;div&gt;&#x27;,

    &#x2F;**
     * Called when this plugin is created.  If the DT has been rendered the Views will
     * be created, otherwise a listener is set to create them after DT &quot;renderView&quot; fires.
     *
     * @method initializer
     * @public
     *&#x2F;
    initializer: function() {
        var host = this.get(&#x27;host&#x27;),
            hostCB = host.get(&#x27;contentBox&#x27;);

        if(hostCB &amp;&amp; hostCB.one(&#x27;.&#x27;+host.getClassName(&#x27;data&#x27;))) {
            this._buildUI();
        }
        this.afterHostEvent(&quot;renderView&quot;, this._onHostRenderViewEvent);

    },

    &#x2F;**
     * Destroys each of the View instances of the menu and nulls them out
     *
     * @method destructor
     * @public
     *&#x2F;
    destructor : function() {

        if(this.theadCMenu &amp;&amp; this.theadCMenu.destroy) {
            this.theadCMenu.destroy({remove:true});
        }

        if(this.tbodyCMenu &amp;&amp; this.tbodyCMenu.destroy) {
            this.tbodyCMenu.destroy({remove:true});
        }

        if(this.tfootCMenu &amp;&amp; this.tfootCMenu.destroy) {
            this.tfootCMenu.destroy({remove:true});
        }

        this.theadCMenu = null;
        this.tbodyCMenu = null;
        this.tfootCMenu = null;

    },

    &#x2F;**
     * This method constructs the three context-menu View instances for this DT if the
     * appropriate ATTRS are defined
     *
     * @method _buildUI
     * @private
     *&#x2F;
    _buildUI: function(){
        if(this.get(&#x27;theadMenu&#x27;)) {
            this._makeTheadCMenu();
        }

        if(this.get(&#x27;tbodyMenu&#x27;)) {
            this._makeTbodyCMenu();
        }

        if(this.get(&#x27;tfootMenu&#x27;)) {
            this._makeTfootCMenu();
        }
    },


    &#x2F;**
     * Creates the context menu on the DT&#x27;s header components, based upon the
     * ATTR &quot;tbodyMenu&quot; settings.
     *
     * @method _makeTbodyCMenu
     * @private
     *&#x2F;
    _makeTbodyCMenu: function() {
        var cm,
            mobj = {
                triggerNodeSel: &#x27;.&#x27;+this.get(&#x27;host&#x27;).getClassName(&#x27;data&#x27;),
                triggerTarget: &#x27;tr td&#x27;
            };

        cm = this._buildCMenu(mobj,&#x27;tbodyMenu&#x27;);
        if(cm) {
            this.tbodyCMenu = cm;
            this.tbodyCMenu._overlayDY = 5;
        }
    },

    &#x2F;**
     * Creates the context menu on the DT&#x27;s header components, based upon the
     * ATTR &quot;theadMenu&quot; settings.
     *
     * @method _makeTheadCMenu
     * @private
     *&#x2F;
    _makeTheadCMenu: function() {
        var cm,
            mobj = {
                triggerNodeSel: &#x27;.&#x27;+this.get(&#x27;host&#x27;).getClassName(&#x27;columns&#x27;),
                triggerTarget: &#x27;tr th&#x27;
            };

        cm = this._buildCMenu(mobj,&#x27;theadMenu&#x27;);
        if(cm) {
            this.theadCMenu = cm;
            this.theadCMenu._overlayDY = 5;
        }
    },

    &#x2F;**
     * Creates the context menu on the DT&#x27;s footer components, based upon the
     * ATTR &quot;tfootMenu&quot; settings.
     *
     * @method _makeTfootCMenu
     * @private
     *&#x2F;
    _makeTfootCMenu: function() {
        var cm,
            mobj = {
                triggerNodeSel: &#x27;.&#x27;+this.get(&#x27;host&#x27;).getClassName(&#x27;footer&#x27;),
                triggerTarget: &#x27;tr th&#x27;
            };

        cm = this._buildCMenu(mobj,&#x27;theadMenu&#x27;);
        if(cm) {
            this.theadCMenu = cm;
            this.theadCMenu._overlayDY = 5;
        }
    },


    &#x2F;**
     * Helper method that takes as input the gallery-contextmenu-view configuration object,
     * the passed-in ATTR (which includes replaceable parts of the config obj) and creates
     * the View instance returning it.
     *
     * @param menuObject {Object} Configuration object for the View
     * @param menuAttr {String} Name of the ATTR to load into the config object
     * @return {Y.ContextMenuView}
     * @private
     *&#x2F;
    _buildCMenu: function(menuObject, menuAttr){
        var host = this.get(&#x27;host&#x27;),
            dtCB = host.get(&#x27;contentBox&#x27;),
            menuCfg = this.get(menuAttr),
            cmenu;

        menuObject = Y.merge(menuObject,menuCfg);

        menuObject.trigger = {
            node:   dtCB.one( menuObject.triggerNodeSel ),
            target: menuObject.triggerTarget
        };
        delete menuObject.triggerNodeSel;
        delete menuObject.triggerTarget;

        cmenu = new Y.ContextMenuView(menuObject);

        return cmenu;

    },

    &#x2F;**
     * Helper method to hide the display of a DT contextmenu attached
     * @method hideCM
     * @param mname {String} Name of context menu property on this Plugin
     * @public
     *&#x2F;
    hideCM: function(mname){
        if(mname) {
            if(this[mname] &amp;&amp; this[mname].hideOverlay) {
                this[mname].hideOverlay();
            }
        }
    },

    &#x2F;**
     * This listener fires after DT&#x27;s &quot;renderView&quot; event, which means that the DT has had
     * it&#x27;s UI constructed and displayed.  We use it in case the implementer plugged in this
     * module to the DT before the render call.
     *
     * @method _onHostRenderViewEvent
     * @private
     *&#x2F;
    _onHostRenderViewEvent: function(){
        if(!this.theadCMenu &amp;&amp; !this.tbodyCMenu &amp;&amp; !this.theadCMenu) {
            this._buildUI();
        }
    }


});

Y.namespace(&quot;Plugin&quot;).DataTableContextMenu = DtContextMenu;

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
